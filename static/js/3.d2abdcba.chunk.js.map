{"version":3,"sources":["ArtApp/Content/Body/Pages/Findusers/findusers.module.scss","ArtApp/UIComponents/Pagination/pagination.module.scss","ArtApp/UIComponents/Pagination/Pagination.tsx","ArtApp/Content/Body/Pages/Findusers/Usercard.js","ArtApp/Content/Body/Pages/Findusers/Findusers.tsx","Redux/Selectors/findusersSelectors.tsx","ArtApp/Content/Body/Pages/Findusers/FindusersCont.tsx"],"names":["module","exports","Pagination","pageQuant","currentQuant","totalUsers","pageSize","isFetching","currentPage","pageHandler","ttlPgs","Math","ceil","Q","handlePageSelect","pageNum","q","pages","Array","fill","filter","page","i","map","className","styles","pagination_track","Loader","pagination","prev","ButtonUI","title","handler","disabled","fontsize","p","type","handlerArgs","next","Usercard","props","followHandler","user","followed","unfollower","id","follower","usercard","ava","to","navlink","src","photos","small","nullAva","alt","button","whileFollow","some","data","name","status","tabs","icons","country","city","Findusers","findusers","searchbox","users","u","getUsers","createSelector","state","getPageSize","getPageQuant","getCurrentQuant","getTotalUsers","getCurrentPage","getIsFetching","getWhileFollow","FindusersCont","compose","WithAuthRedirect","connect","findUsersSel","uiSel","requestUsers","setCurrentPage","useEffect"],"mappings":"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","file":"static/js/3.d2abdcba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"findusers\":\"findusers_findusers__3Cw9G\",\"searchbox\":\"findusers_searchbox__1RhDa\",\"users\":\"findusers_users__29_Ce\",\"usercard\":\"findusers_usercard__20XcH\",\"ava\":\"findusers_ava__1_1FU\",\"navlink\":\"findusers_navlink__1GM0a\",\"button\":\"findusers_button__1HTze\",\"data\":\"findusers_data__3Gg4C\",\"tabs\":\"findusers_tabs__3PA2w\",\"addMore\":\"findusers_addMore__2gbTY\",\"addMoreBtn\":\"findusers_addMoreBtn__50ajg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination_track\":\"pagination_pagination_track__1oEyx\",\"pagination\":\"pagination_pagination__1v_UQ\",\"page\":\"pagination_page__-9lmE\",\"prev\":\"pagination_prev__2DTw9\",\"next\":\"pagination_next__R1saG\"};","import { FC } from \"react\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ButtonUI from \"../ButtonUI/ButtonUI\";\r\nimport styles from \"./pagination.module.scss\";\r\n\r\ntype props = {\r\n  pageQuant: number; //qty of shown pages' buttons\r\n  currentQuant: number; //qty of pages skiped\r\n  totalUsers: number;\r\n  pageSize: number; // qty of users per page\r\n  isFetching: boolean; // is now waiting for responce from server\r\n  currentPage: number; // selected page to show\r\n  pageHandler: (pageNum: number, quant: number) => void;\r\n};\r\n\r\nconst Pagination: FC<props> = ({\r\n  pageQuant,\r\n  currentQuant,\r\n  totalUsers,\r\n  pageSize,\r\n  isFetching,\r\n  currentPage,\r\n  pageHandler,\r\n}) => {\r\n  const ttlPgs = Math.ceil(totalUsers / pageSize);\r\n  const Q = currentQuant;\r\n\r\n  const pagesIncr = () =>\r\n    Q + pageQuant < ttlPgs && pageHandler(Q + pageQuant + 1, Q + pageQuant);\r\n\r\n  const pagesDecr = () =>\r\n    Q - pageQuant >= 0 && pageHandler(Q - pageQuant + 1, Q - pageQuant);\r\n\r\n  const handlePageSelect = (pageNum: number, q = Q) => pageHandler(pageNum, q);\r\n\r\n  const pages: Array<number> = new Array(pageQuant)\r\n    .fill(1)\r\n    .filter((page, i) => page + i + Q <= ttlPgs)\r\n    .map((page, i) => page + i + Q);\r\n\r\n  return (\r\n    <div className={styles.pagination_track}>\r\n      {isFetching && <Loader />}\r\n      <div className={styles.pagination}>\r\n        <div className={styles.prev}>\r\n          <ButtonUI\r\n            title=\"пред.\"\r\n            handler={pagesDecr}\r\n            disabled={Q === 0}\r\n            fontsize=\"10px\"\r\n          />\r\n        </div>\r\n        {pages.map((p) => (\r\n          <div className={styles.page} key={p}>\r\n            <ButtonUI\r\n              title={p}\r\n              type={p === currentPage && \"activated\"}\r\n              handler={handlePageSelect}\r\n              handlerArgs={p}\r\n              fontsize=\"10px\"\r\n            />\r\n          </div>\r\n        ))}\r\n        <div className={styles.next}>\r\n          <ButtonUI\r\n            title=\"след.\"\r\n            handler={pagesIncr}\r\n            disabled={Q + pageQuant >= ttlPgs}\r\n            fontsize=\"10px\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Pagination;\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nimport ButtonUI from \"../../../../UIComponents/ButtonUI/ButtonUI\";\r\nimport styles from \"./findusers.module.scss\";\r\nimport nullAva from \"../../../../../assets/images/nullAva.jpg\";\r\n\r\nconst Usercard = (props) => {\r\n  // console.log(props);\r\n\r\n  const followHandler = () =>\r\n    props.user.followed\r\n      ? props.unfollower(props.user.id)\r\n      : props.follower(props.user.id);\r\n\r\n  return (\r\n    <div className={styles.usercard}>\r\n      <div className={styles.ava}>\r\n        <NavLink to={`/profile/${props.user.id}`} className={styles.navlink}>\r\n          <img\r\n            src={\r\n              props.user.photos.small === null\r\n                ? nullAva\r\n                : props.user.photos.small\r\n            }\r\n            alt=\"Avatar\"\r\n          />\r\n        </NavLink>\r\n        <div className={styles.button}>\r\n          {props.user.followed ? (\r\n            <ButtonUI\r\n              disabled={props.whileFollow.some((id) => id === props.user.id)}\r\n              title=\"отписка\"\r\n              type={\"secondary\"}\r\n              handler={followHandler}\r\n              fontsize={'10px'}\r\n            />\r\n          ) : (\r\n            <ButtonUI\r\n              disabled={props.whileFollow.some((id) => id === props.user.id)}\r\n              title=\"в друзья\"\r\n              type={\"primary\"}\r\n              handler={followHandler}\r\n              fontsize={'10px'}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={styles.data}>\r\n        <h3>{props.user.name}</h3>\r\n        <p>\r\n          {props.user.status === null ? \"неопытный гений\" : props.user.status}\r\n        </p>\r\n        <div className={styles.tabs}>\r\n          {props.icons.country}\r\n          <p>{\"Россия\"}</p>\r\n        </div>\r\n        <div className={styles.tabs}>\r\n          {props.icons.city}\r\n          <p>{\"Москва\"}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Usercard;\r\n","import { FC } from \"react\";\r\nimport Pagination from \"../../../../UIComponents/Pagination/Pagination\";\r\nimport Usercard from \"./Usercard\";\r\nimport { SingleUser } from \"../../../../../Types/Types\";\r\n\r\nimport styles from \"./findusers.module.scss\";\r\n\r\ntype props = {\r\n  pageQuant: number; //qty of shown pages' buttons\r\n  currentQuant: number; //qty of pages skiped\r\n  totalUsers: number;\r\n  pageSize: number; // qty of users per page\r\n  isFetching: boolean; // is now waiting for responce from server\r\n  currentPage: number; // selected page to show\r\n  whileFollow: Array<number> // array of ids fetching for server response on follow/unfollow\r\n  icons: any;\r\n  users: Array<SingleUser>;\r\n  follower: (id:number) => void;\r\n  unfollower: (id:number) => void;\r\n  pageHandler: (pageNum: number, quant: number) => void;\r\n};\r\n\r\nconst Findusers: FC<props> = (props) => {\r\n  return (\r\n    <div className={styles.findusers}>\r\n      <div className={styles.searchbox}></div>\r\n      <Pagination\r\n        isFetching={props.isFetching}\r\n        currentPage={props.currentPage}\r\n        pageHandler={props.pageHandler}\r\n        totalUsers={props.totalUsers}\r\n        pageSize={props.pageSize}\r\n        pageQuant={props.pageQuant}\r\n        currentQuant={props.currentQuant}\r\n      />\r\n      <div className={styles.users}>\r\n        {props.users.map((u) => (\r\n          <Usercard\r\n            user={u}\r\n            key={u.id}\r\n            icons={props.icons}\r\n            follower={props.follower}\r\n            unfollower={props.unfollower}\r\n            whileFollow={props.whileFollow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Findusers;\r\n","import { createSelector } from \"reselect\";\r\nimport { AppStateType } from \"../store\";\r\n\r\nconst getUsersInitial = (state: AppStateType) => state.findusers.users;\r\nexport const getUsers = createSelector(getUsersInitial, (users) =>\r\n  users.map((u) => u)\r\n);\r\n\r\nexport const getPageSize = (state: AppStateType) => state.findusers.pageSize;\r\nexport const getPageQuant = (state: AppStateType) => state.findusers.pageQuant;\r\nexport const getCurrentQuant = (state: AppStateType) => state.findusers.currentQuant;\r\nexport const getTotalUsers = (state: AppStateType) => state.findusers.totalUsers;\r\nexport const getCurrentPage = (state: AppStateType) => state.findusers.currentPage;\r\nexport const getIsFetching = (state: AppStateType) => state.findusers.isFetching;\r\nexport const getWhileFollow = (state: AppStateType) => state.findusers.whileFollow;\r\n","import { FC, useEffect } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { WithAuthRedirect } from \"../../../../../HOC/withAuthRedirect\";\r\nimport Findusers from \"./Findusers\";\r\nimport * as findUsersSel from \"../../../../../Redux/Selectors/findusersSelectors\";\r\nimport * as uiSel from \"../../../../../Redux/Selectors/uiSelector\";\r\n\r\nimport { SingleUser } from \"../../../../../Types/Types\";\r\nimport { AppStateType } from \"../../../../../Redux/store\";\r\n\r\nimport {\r\n  requestUsers,\r\n  setCurrentPage,\r\n  follower,\r\n  unfollower,\r\n} from \"../../../../../Redux/Reducers/findusersReducer\";\r\n\r\ntype MsProps = {\r\n  pageQuant: number; //qty of shown pages' buttons\r\n  currentQuant: number; //qty of pages skiped\r\n  totalUsers: number;\r\n  pageSize: number; // qty of users per page\r\n  isFetching: boolean; // is now waiting for responce from server\r\n  currentPage: number; // selected page to show\r\n  whileFollow: Array<number>; // array of ids fetching for server response on follow/unfollow\r\n  icons: any; // object of svg icons\r\n  users: Array<SingleUser>;\r\n};\r\ntype MdProps = {\r\n  follower: (id: number) => void; // follow selected user\r\n  unfollower: (id: number) => void; // unfollow selected user\r\n  setCurrentPage: (pageNum: number, quant: number) => void;\r\n  requestUsers: (page: number, pageSize: number) => void; //request users for selected page\r\n};\r\n\r\ntype Props = MsProps & MdProps;\r\n\r\nconst FindusersAJAX: FC<Props> = (props) => {\r\n  const { requestUsers, currentPage, pageSize } = props;\r\n  useEffect(() => requestUsers(currentPage, pageSize), [\r\n    requestUsers,\r\n    currentPage,\r\n    pageSize,\r\n  ]);\r\n\r\n  const pageHandler = (pageNum: number, q: number) =>\r\n    props.setCurrentPage(pageNum, q);\r\n\r\n  return <Findusers {...props} pageHandler={pageHandler} />;\r\n};\r\n\r\nconst mstp = (state: AppStateType): MsProps => ({\r\n  users: findUsersSel.getUsers(state),\r\n  icons: uiSel.getIcons(state),\r\n  totalUsers: findUsersSel.getTotalUsers(state),\r\n  pageSize: findUsersSel.getPageSize(state),\r\n  pageQuant: findUsersSel.getPageQuant(state),\r\n  currentQuant: findUsersSel.getCurrentQuant(state),\r\n  currentPage: findUsersSel.getCurrentPage(state),\r\n  isFetching: findUsersSel.getIsFetching(state),\r\n  whileFollow: findUsersSel.getWhileFollow(state),\r\n});\r\n\r\nconst FindusersCont = compose(\r\n  WithAuthRedirect,\r\n  connect<MsProps, MdProps, {}, AppStateType>(mstp, {\r\n    requestUsers,\r\n    setCurrentPage,\r\n    follower,\r\n    unfollower,\r\n  })\r\n)(FindusersAJAX);\r\n\r\nexport default FindusersCont;\r\n"],"sourceRoot":""}