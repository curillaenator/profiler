{"version":3,"sources":["ArtApp/Content/Body/Pages/Findusers/findusers.module.scss","ArtApp/UIComponents/Pagination/pagination.module.scss","ArtApp/UIComponents/Pagination/Pagination.js","ArtApp/Content/Body/Pages/Findusers/Usercard.js","ArtApp/Content/Body/Pages/Findusers/Findusers.js","Redux/Selectors/findusersSelectors.js","ArtApp/Content/Body/Pages/Findusers/FindusersCont.js"],"names":["module","exports","Pagination","props","pageQuant","currentQuant","totalPages","Math","ceil","totalUsers","pageSize","useState","quant","setQuant","pageHandle","pageNum","q","pageHandler","pages","Array","fill","filter","p","i","map","className","styles","pagination_track","isFetching","Loader","pagination","prev","ButtonUI","title","handler","disabled","fontsize","page","type","currentPage","handlerArgs","next","Usercard","followHandler","user","followed","unfollower","id","follower","usercard","ava","to","navlink","src","photos","small","nullAva","alt","button","whileFollow","some","data","name","status","tabs","icons","country","city","Findusers","findusers","searchbox","users","u","getUsers","createSelector","state","getPageSize","getPageQuant","getCurrentQuant","getTotalUsers","getCurrentPage","getIsFetching","getWhileFollow","FindusersCont","compose","WithAuthRedirect","connect","findUsersSel","uiSel","requestUsers","setCurrentPage","useEffect"],"mappings":"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","file":"static/js/3.bea288c8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"findusers\":\"findusers_findusers__3Cw9G\",\"searchbox\":\"findusers_searchbox__1RhDa\",\"users\":\"findusers_users__29_Ce\",\"usercard\":\"findusers_usercard__20XcH\",\"ava\":\"findusers_ava__1_1FU\",\"navlink\":\"findusers_navlink__1GM0a\",\"button\":\"findusers_button__1HTze\",\"data\":\"findusers_data__3Gg4C\",\"tabs\":\"findusers_tabs__3PA2w\",\"addMore\":\"findusers_addMore__2gbTY\",\"addMoreBtn\":\"findusers_addMoreBtn__50ajg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination_track\":\"pagination_pagination_track__1oEyx\",\"pagination\":\"pagination_pagination__1v_UQ\",\"page\":\"pagination_page__-9lmE\",\"prev\":\"pagination_prev__2DTw9\",\"next\":\"pagination_next__R1saG\"};","import { useState } from \"react\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport ButtonUI from \"../ButtonUI/ButtonUI\";\r\nimport styles from \"./pagination.module.scss\";\r\n\r\nconst Pagination = (props) => {\r\n  const { pageQuant, currentQuant } = props;\r\n\r\n  const totalPages = Math.ceil(props.totalUsers / props.pageSize);\r\n\r\n  const [quant, setQuant] = useState(currentQuant);\r\n  \r\n  const pagesIncr = () => {\r\n    quant + pageQuant < totalPages && setQuant(quant + pageQuant);\r\n    props.pageHandler(quant + pageQuant + 1, quant + pageQuant);\r\n  };\r\n  const pagesDecr = () => {\r\n    quant - pageQuant >= 0 && setQuant(quant - pageQuant);\r\n    props.pageHandler(quant - pageQuant + 1, quant - pageQuant);\r\n  };\r\n  const pageHandle = (pageNum, q = currentQuant) =>\r\n    props.pageHandler(pageNum, q);\r\n\r\n  const pages = new Array(pageQuant)\r\n    .fill(1)\r\n    .filter((p, i) => p + i + quant <= totalPages)\r\n    .map((p, i) => p + i + quant);\r\n\r\n  return (\r\n    <div className={styles.pagination_track}>\r\n      {props.isFetching && <Loader />}\r\n      <div className={styles.pagination}>\r\n        <div className={styles.prev}>\r\n          <ButtonUI\r\n            title=\"пред.\"\r\n            handler={pagesDecr}\r\n            disabled={quant === 0}\r\n            fontsize=\"10px\"\r\n          />\r\n        </div>\r\n        {pages.map((p) => (\r\n          <div className={styles.page} key={p}>\r\n            <ButtonUI\r\n              title={p}\r\n              type={p === props.currentPage && \"activated\"}\r\n              handler={pageHandle}\r\n              handlerArgs={p}\r\n              fontsize=\"10px\"\r\n            />\r\n          </div>\r\n        ))}\r\n        <div className={styles.next}>\r\n          <ButtonUI\r\n            title=\"след.\"\r\n            handler={pagesIncr}\r\n            disabled={currentQuant + pageQuant >= totalPages}\r\n            fontsize=\"10px\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Pagination;\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nimport ButtonUI from \"../../../../UIComponents/ButtonUI/ButtonUI\";\r\nimport styles from \"./findusers.module.scss\";\r\nimport nullAva from \"../../../../../assets/images/nullAva.jpg\";\r\n\r\nconst Usercard = (props) => {\r\n  // console.log(props);\r\n\r\n  const followHandler = () =>\r\n    props.user.followed\r\n      ? props.unfollower(props.user.id)\r\n      : props.follower(props.user.id);\r\n\r\n  return (\r\n    <div className={styles.usercard}>\r\n      <div className={styles.ava}>\r\n        <NavLink to={`/profile/${props.user.id}`} className={styles.navlink}>\r\n          <img\r\n            src={\r\n              props.user.photos.small === null\r\n                ? nullAva\r\n                : props.user.photos.small\r\n            }\r\n            alt=\"Avatar\"\r\n          />\r\n        </NavLink>\r\n        <div className={styles.button}>\r\n          {props.user.followed ? (\r\n            <ButtonUI\r\n              disabled={props.whileFollow.some((id) => id === props.user.id)}\r\n              title=\"отписка\"\r\n              type={\"secondary\"}\r\n              handler={followHandler}\r\n              fontsize={'10px'}\r\n            />\r\n          ) : (\r\n            <ButtonUI\r\n              disabled={props.whileFollow.some((id) => id === props.user.id)}\r\n              title=\"в друзья\"\r\n              type={\"primary\"}\r\n              handler={followHandler}\r\n              fontsize={'10px'}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={styles.data}>\r\n        <h3>{props.user.name}</h3>\r\n        <p>\r\n          {props.user.status === null ? \"неопытный гений\" : props.user.status}\r\n        </p>\r\n        <div className={styles.tabs}>\r\n          {props.icons.country}\r\n          <p>{\"Россия\"}</p>\r\n        </div>\r\n        <div className={styles.tabs}>\r\n          {props.icons.city}\r\n          <p>{\"Москва\"}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Usercard;\r\n","import Pagination from \"../../../../UIComponents/Pagination/Pagination\";\r\n// import ButtonUI from \"../../../../UIComponents/ButtonUI/ButtonUI\";\r\nimport Usercard from \"./Usercard\";\r\n// import Loader from \"../../../../UIComponents/Loader/Loader\";\r\n\r\nimport styles from \"./findusers.module.scss\";\r\n\r\n// const PageLoader = (props) => {\r\n//   const pageNum = props.currentPage + 1;\r\n//   return (\r\n//     <div className={styles.addMore}>\r\n//       {props.isFetching && <Loader />}\r\n//       <div className={styles.addMoreBtn}>\r\n//         <ButtonUI\r\n//           title={`добавить еще ${props.pageSize} пользователя`}\r\n//           handler={props.pageHandler}\r\n//           handlerArgs={pageNum}\r\n//         />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\nfunction Findusers(props) {\r\n  // console.log(props);\r\n  return (\r\n    <div className={styles.findusers}>\r\n      <div className={styles.searchbox}></div>\r\n      <Pagination\r\n        isFetching={props.isFetching}\r\n        currentPage={props.currentPage}\r\n        pageHandler={props.pageHandler}\r\n        totalUsers={props.totalUsers}\r\n        pageSize={props.pageSize}\r\n        pageQuant={props.pageQuant}\r\n        currentQuant={props.currentQuant}\r\n      />\r\n      <div className={styles.users}>\r\n        {props.users.map((u) => (\r\n          <Usercard\r\n            user={u}\r\n            key={u.id}\r\n            icons={props.icons}\r\n            follower={props.follower}\r\n            unfollower={props.unfollower}\r\n            whileFollow={props.whileFollow}\r\n          />\r\n        ))}\r\n      </div>\r\n      {/* <PageLoader\r\n        isFetching={props.isFetching}\r\n        currentPage={props.currentPage}\r\n        pageHandler={props.pageHandler}\r\n        totalUsers={props.totalUsers}\r\n        pageSize={props.pageSize}\r\n      /> */}\r\n    </div>\r\n  );\r\n}\r\nexport default Findusers;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersInitial = (state) => state.findusers.users;\r\nexport const getUsers = createSelector(getUsersInitial, (users) =>\r\n  users.map((u) => u)\r\n);\r\n\r\nexport const getPageSize = (state) => state.findusers.pageSize;\r\nexport const getPageQuant = (state) => state.findusers.pageQuant;\r\nexport const getCurrentQuant = (state) => state.findusers.currentQuant;\r\nexport const getTotalUsers = (state) => state.findusers.totalUsers;\r\nexport const getCurrentPage = (state) => state.findusers.currentPage;\r\nexport const getIsFetching = (state) => state.findusers.isFetching;\r\nexport const getWhileFollow = (state) => state.findusers.whileFollow;\r\n","import { useEffect } from \"react\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { WithAuthRedirect } from \"../../../../../HOC/withAuthRedirect\";\r\nimport Findusers from \"./Findusers\";\r\nimport * as findUsersSel from \"../../../../../Redux/Selectors/findusersSelectors\";\r\nimport * as uiSel from \"../../../../../Redux/Selectors/uiSelector\";\r\n\r\nimport {\r\n  requestUsers,\r\n  setCurrentPage,\r\n  follower,\r\n  unfollower,\r\n} from \"../../../../../Redux/Reducers/findusersReducer\";\r\n\r\nconst FindusersAJAX = (props) => {\r\n  const { requestUsers, currentPage, pageSize } = props;\r\n\r\n  useEffect(() => requestUsers(currentPage, pageSize), [\r\n    requestUsers,\r\n    currentPage,\r\n    pageSize,\r\n  ]);\r\n\r\n  const pageHandler = (pageNum, q) => props.setCurrentPage(pageNum, q);\r\n\r\n  return <Findusers {...props} pageHandler={pageHandler} />;\r\n};\r\n\r\nconst mstp = (state) => ({\r\n  users: findUsersSel.getUsers(state),\r\n  icons: uiSel.getIcons(state),\r\n  totalUsers: findUsersSel.getTotalUsers(state),\r\n  pageSize: findUsersSel.getPageSize(state),\r\n  pageQuant: findUsersSel.getPageQuant(state),\r\n  currentQuant: findUsersSel.getCurrentQuant(state),\r\n  currentPage: findUsersSel.getCurrentPage(state),\r\n  isFetching: findUsersSel.getIsFetching(state),\r\n  whileFollow: findUsersSel.getWhileFollow(state),\r\n});\r\n\r\nconst FindusersCont = compose(\r\n  WithAuthRedirect,\r\n  connect(mstp, { requestUsers, setCurrentPage, follower, unfollower })\r\n)(FindusersAJAX);\r\n\r\nexport default FindusersCont;"],"sourceRoot":""}